#!/bin/sh

if [[ $DISPLAY ]]; then
	if [[ $GUI_EDITOR ]]; then
		$GUI_EDITOR $*
	elif [[ $EDITOR ]]; then
		$EDITOR $*
	else
		echo "Please set \$GUI_EDITOR or \$EDITOR" >&2
		exit -1
	fi
elif tty -s; then
	if [[ $EDITOR ]]; then
		$EDITOR $*
	else
		echo "Please set \$EDITOR" >&2
		exit -1
	fi
else
	echo "Cannot start an editor: not on a terminal and no DISPLAY." >&2
	exit -1
fi
